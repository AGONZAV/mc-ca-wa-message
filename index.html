<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Custom Journey Builder Activity</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
      integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn"
      crossorigin="anonymous"
    />

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"
      integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <script type="text/javascript">
      (function () {
        var config = {
          baseUrl: "",
        };

        var dependencies = ["js/HelloWorld"];

        require(config, dependencies);
      })();
    </script>

    <!--Styles-->
    <style type="text/css">
      body {
        padding: 20px;
        margin: 0;
      }
      .step {
        display: none;
      }
      #step1 {
        display: block;
      }
    </style>
  </head>
  <body>
    <div class="container-fluid">
      <nav class="navbar navbar-light bg-light">
        <div class="container-fluid">
          <a class="navbar-brand">
            <img
              src="https://www.proteccion.com/wps/contenthandler/dav/fs-type1/themes/TemaProteccion/images/universidad/logo_proteccion.svg"
              alt=""
              width="300"
              height="60"
              class="d-inline-block align-text-top"
            />
            whastsapp custom Activity
          </a>
        </div>
      </nav>
      <div id="step1" class="step">
        Seleccione su plantilla de whastsapp:
        <select id="select1" name="locality" class="form-select"></select>
        <!-- <select class="form-select" id="select1">
          <option value="">Opciones</option>
          <option value="Plantilla1">Plantilla 1</option>
          <option value="Plantilla2">Plantilla 2</option>
          <option value="contactabilidad">contactabilidad</option>
          <option value="Plantilla3">Plantilla 3</option>
        </select> -->

        <button id="toggleLastStep" type="button" class="btn btn-primary">
          Ultimo paso opcional
        </button>
      </div>
      <div id="step2" class="step">
        Segunda Página con información de la plantilla
      </div>
      <div id="step3" class="step">
        Escogiste la plantilla de whastsapp:
        <div id="message"></div>
      </div>
      <div id="step4" class="step">
        Hey, here's a fourth step, just for you. Toggle this on or off from step
        1.
      </div>
    </div>

    <!-- <script
      src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script> -->

    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF"
      crossorigin="anonymous"
    ></script>

    <script>
      let dropdown = $("#select1");

      dropdown.empty();

      dropdown.append('<option selected="true" disabled>Opciones</option>');
      dropdown.prop("selectedIndex", 0);

      const url = "https://obscure-anchorage-66318.herokuapp.com/getOptions";

      // Populate dropdown with list of provinces
      $.getJSON(url, function (data) {
        $.each(data, function (key, entry) {
          dropdown.append(
            $("<option></option>").attr("value", entry.id).text(entry.name)
          );
        });
      });
    </script>
  </body>
</html>
